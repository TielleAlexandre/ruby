{"ast":null,"code":"var through = require('through');\nvar nextTick = typeof setImmediate !== 'undefined' ? setImmediate : process.nextTick;\nmodule.exports = function (write, end) {\n  var tr = through(write, end);\n  tr.pause();\n  var resume = tr.resume;\n  var pause = tr.pause;\n  var paused = false;\n  tr.pause = function () {\n    paused = true;\n    return pause.apply(this, arguments);\n  };\n  tr.resume = function () {\n    paused = false;\n    return resume.apply(this, arguments);\n  };\n  nextTick(function () {\n    if (!paused) tr.resume();\n  });\n  return tr;\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}