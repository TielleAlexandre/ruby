{"ast":null,"code":"'use strict';\n\nvar through = require('through');\nvar fs = require('fs');\nmodule.exports = function () {\n  var line = '';\n  var stream = through(write, flush);\n  return stream;\n  function write(buf) {\n    for (var i = 0; i < buf.length; i++) {\n      var c = typeof buf === 'string' ? buf.charAt(i) : String.fromCharCode(buf[i]);\n      if (c === '\\n') {\n        flush();\n      } else {\n        line += c;\n      }\n    }\n  }\n  function flush() {\n    if (fs.writeSync && /^win/.test(process.platform)) {\n      try {\n        fs.writeSync(1, line + '\\n');\n      } catch (e) {\n        stream.emit('error', e);\n      }\n    } else {\n      try {\n        console.log(line); // eslint-disable-line no-console\n      } catch (e) {\n        stream.emit('error', e);\n      }\n    }\n    line = '';\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}